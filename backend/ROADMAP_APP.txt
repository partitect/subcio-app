Roadmap for Entire Application (Backend + Frontend + Presets/PyonFX)

Phase 1 – Stabilization & Parity
- Finish PyonFX migration (per PORTING_TODO) and ensure presets.json/pyonfx_effects.json are complete and consistent.
- Add basic automated tests: ASS generation regression (key presets) and API smoke tests (export/preview endpoints).
- Normalize dependency management: pin Python packages, verify PyonFX install path, ensure fonts packaged.

Phase 2 – Preset Management UX
- Build an admin UI or CLI for presets (create/update/delete) reading presets.json and pyonfx_effects.json with schema validation.
- Add preset versioning/draft-publish flags and import/export of individual presets.
- Screenshot management: automatically refresh preview images on preset update; store in a predictable path.

Phase 3 – Rendering Pipeline Enhancements
- Refactor PyonFX renderers into modules; add shared helper utilities to reduce duplication (shapes, random jitter, color conversions).
- Add parametric/DSL layer for common effects so new styles can be defined in JSON without code changes.
- Add deterministic seeding options for effects to make previews reproducible.

Phase 4 – Performance & Scaling
- Profile heavy particle effects; add configurable caps for particle counts, blur, and duration.
- Cache font width measurements and reuse font loading; consider lazy-loading fonts.
- Optimize export pipeline: reuse temp files, parallelize if needed, and add retry logic around ffmpeg burns.

Phase 5 – Frontend Experience
- Improve preset browser: filters, tags, search; live preview controls (intensity/particle count/seed toggles) driven by pyonfx_effects.json.
- Add validation and helpful error messaging when presets are misconfigured.
- Dark/light theme parity and responsive tweaks for mobile previews.

Phase 6 – Observability & Reliability
- Add structured logging around export/preview flows; capture timing and failures.
- Add health checks for Whisper model loading, font availability, and disk space for exports.
- Optional: telemetry (opt-in) for most-used presets/effects to guide maintenance.

Phase 7 – Security & Ops
- Harden file handling (upload paths, temp cleanup); sandbox ffmpeg inputs; validate ASS/JSON inputs to prevent injection.
- CI/CD: run tests on PRs, package presets.json/pyonfx_effects.json and fonts; build artifacts for deployment.
- Document recovery/backup for presets.json and pyonfx_effects.json.

Phase 8 – Nice-to-Haves
- Visual diff tool for comparing two preset outputs (before/after changes) via image diff.
- Library of reusable shapes/paths with a preview gallery.
- Multi-language UI support if needed.
